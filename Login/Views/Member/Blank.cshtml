@{
    ViewData["Title"] = "個人資料";
}

<style>
    .frame {
        height: 300px; /*can be anything*/
        width: 300px; /*can be anything*/
        position: relative;
        border: dotted 3px #514a4a5e;
    }

    .profliePhoto {
        max-height: 100%;
        max-width: 100%;
        width: auto;
        height: auto;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        margin: auto;
    }

    textarea {
        white-space: nowrap; /* 禁止換行 */
        overflow: hidden; /* 不顯示捲軸 */
        resize: none; /* 禁止瀏覽器拖放區塊大小 */
    }

    .inputHeight {
        height: 58px;
    }



</style>

<!-- Begin Page Content -->
<div class="container-fluid" id="myContent">

    <!-- Page Heading -->
    <h1 class="h3 mb-4 text-gray-800">個人資料</h1>

    <div class="row align-items-start">
        <div class="col">
            <div class="frame">
                <img src="~/img/profile_empty.jpeg" class="rounded mx-auto d-block img-responsive profliePhoto"
                     alt="個人頭像">
            </div>
            <div class="input-group col-lg-6 p-2">
                <input type="file" class="form-control" id="inputGroupFile04" aria-describedby="inputGroupFileAddon04" aria-label="Upload">
                <button class="btn btn-outline-secondary" type="button" id="inputGroupFileAddon04">Button</button>
            </div>
            <h1 class="display-3 mb-1">管理員</h1>

            <div class="input-group">
                <a class="btn btn-success btn-icon-split" role="button">
                    <span class="icon text-white-50">
                        <i class="fas fa-check"></i>
                    </span>
                    <span class="text">修改資料</span>
                </a>
                <a class="btn btn-danger btn-icon-split" role="button">
                    <span class="icon text-white-50">
                        <i class="fas fa-trash"></i>
                    </span>
                    <span class="text">刪除此帳號</span>
                </a>
            </div>

        </div>
        <div class="col">
            <div class="form-floating mb-3">
                <input type="email" class="form-control" id="emailInput" placeholder="name@example.com" v-model="form.email">
                <label for="emailInput">信箱</label>
            </div>
            <div class="form-floating mb-3">
                <textarea class="form-control textarea" placeholder="帳號" id="accountInput" disabled>{{form.Account}}</textarea>
                <label for="accountInput">帳號</label>
            </div>
            <div class="form-floating mb-3">
                <input type="text" class="form-control" id="nameInput" placeholder="使用者名稱" v-model="form.Name">
                <label for="nameInput">使用者名稱</label>
            </div>
            <div class="form-floating mb-3">
                <select class="form-select" id="sexSelect" v-model="form.SexId">
                    <option v-for="(item, index) in sexOptions" :value="item.id">
                        {{ item.name }}
                    </option>
                </select>
                <label for="sexSelect">性別</label>
            </div>
            <div class="form-floating mb-3">
                <input class="form-control" placeholder="手機" id="cellPhoneInput" v-model="form.CellPhone">
                <label for="cellPhoneInput">手機</label>
            </div>
            <div class="form-floating mb-3">
                <input id="startDate" class="form-control" type="date" placeholder="生日" v-model="form.BirthDay" />
                <span id="startDateSelected"></span>
                <label for="startDate">生日</label>
            </div>

            <div class="form">
                <label class="text-lg col-form-label pe-3">帳號狀態</label>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="Status1" id="Status1" value="1" v-model="form.Status">
                    <label class="form-check-label" for="Status1">啟用</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="Status0" id="Status0" value="0" v-model="form.Status">
                    <label class="form-check-label" for="Status0">停用</label>
                </div>
            </div>
        </div>
    </div>
</div>




<script>
   

    const blank01 = Vue.createApp({
        data() {
            return {
                sexOptions: [
                    {
                        id: 99,
                        name: '請選擇'
                    },
                    {
                        id: 1,
                        name: '男'
                    }, {
                        id: 2,
                        name: '女'
                    }, {
                        id: 0,
                        name: '不透漏'
                    }],


                form: {
                    // MemberID: 0
                    // , Account: ""
                    // , Name: ""
                    // , Email: ""
                    // , SexId: 99
                    // , Sex: ""
                    // , BirthDay: ""
                    // , CellPhone: ""
                    // , Photo: ""
                    // , RoleId: 0
                    // , Role: ""
                    // , Status: 0
                }
            }
        },
        mounted() {
            console.log('mounted 個人資料');

            this.getData();
        },
        methods: {
            /** 取得帳號資料 */
            getData(e) {
                axios
                    .post('/Member/GetMemberData',
                       null ,
                        {
                            headers: {
                                'Content-Type': 'application/json; charset=utf-8',
                            }
                        }
                    )
                    .then(response => {
                        $.blockUI({ message: '<h1>處理中請稍候…</h1>' });

                        setTimeout(() => {
                            $.unblockUI();

                            if (response.data.vaild === true) {
                                blank01.form.data = response.data.result;

                                console.log(blank01.form.data);

                                console.log(response.data);
                            } else {
                                alert(response.data.msg);
                            }
                        }, 1000);
                    })
                    .catch(function (error) { // 请求失败处理
                        $.unblockUI();
                        alert(error);
                        console.log(error);
                    })
            },
        },
    }).mount('#myContent')

    $(document).ready(function () {
        $('#main').removeAttr('height');
    });

</script>
